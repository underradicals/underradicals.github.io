import{_ as a,c as i,o as e,ah as t}from"./chunks/framework.BaqsfJuc.js";const E=JSON.parse('{"title":"PostgreSQL Roles","description":"","frontmatter":{"layout":"doc"},"headers":[],"relativePath":"docs/postgres/sql/create_role.md","filePath":"docs/postgres/sql/create_role.md"}'),l={name:"docs/postgres/sql/create_role.md"};function n(h,s,r,o,p,k){return e(),i("div",null,[...s[0]||(s[0]=[t(`<h1 id="postgresql-roles" tabindex="-1">PostgreSQL Roles <a class="header-anchor" href="#postgresql-roles" aria-label="Permalink to “PostgreSQL Roles”">​</a></h1><h2 id="how-to-create-a-role" tabindex="-1">How to Create A Role <a class="header-anchor" href="#how-to-create-a-role" aria-label="Permalink to “How to Create A Role”">​</a></h2><div class="info custom-block"><p class="custom-block-title custom-block-title-default">INFO</p><p>For PostgreSQL less than 15, every database that is created has a default schema called public and on that schema a default <code>GRANT</code> of the <a href="/docs/postgres/roles.html#create"><code>CREATE</code></a> privilege. For versions of PostgreSQL greater than or equal to 15 this is no longer the case. The <a href="/docs/postgres/roles.html#create"><code>CREATE</code></a> privilege is revoked by default except for the owner of that database. The <a href="/docs/postgres/roles.html#usage"><code>USAGE</code></a> privilege is still granted to public, however.</p></div><h3 id="roles" tabindex="-1">Roles <a class="header-anchor" href="#roles" aria-label="Permalink to “Roles”">​</a></h3><p>Why use Roles at all? Roles allow administrators more granularity in defining privileges for individuals that have access to database objects. Roles come in two flavors: <code>Group Roles</code> and <code>User Roles</code>. What sets the <strong>Group Role</strong> from the <strong>User Role</strong> is that <strong>User Roles</strong> have the LOGIN privilege complete with a password. <strong>Group Roles</strong> are meant to create an umbrella of Privileges for user roles. It is standard to not assign privileges to User Roles. Instead we create a group role like <em>data engineer</em> or <em>developer</em> and then grant the group role <code>TO</code> a User Role.</p><h5 id="create" tabindex="-1"><code>CREATE</code> <a class="header-anchor" href="#create" aria-label="Permalink to “CREATE”">​</a></h5><blockquote><p>For databases, allows new schemas and publications to be created within the database, and allows trusted extensions to be installed within the database. For schemas, allows new objects to be created within the schema. To rename an existing object, you must own the object and have this privilege for the containing schema. For table-spaces, allows tables, indexes, and temporary files to be created within the table-space, and allows databases to be created that have the table-space as their default table-space. Note that revoking this privilege will not alter the existence or location of existing objects.</p></blockquote><h3 id="creating-a-role" tabindex="-1">Creating a Role <a class="header-anchor" href="#creating-a-role" aria-label="Permalink to “Creating a Role”">​</a></h3><p>Creating a Role in PostgreSQL is simple enough:</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- INHERIT IS A DEFAULT BUT IS INCLUDED HERE FOR CLARITY</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">CREATE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ROLE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> de_user </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">LOGIN</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> PASSWORD</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;**************&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> INHERIT;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">CREATE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ROLE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> data_engineer NOLOGIN INHERIT; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- Group Role</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">CREATE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ROLE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> bronze_rw NOLOGIN INHERIT; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- Group Role</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- Assigning Privileges</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">GRANT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> SELECT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">INSERT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">UPDATE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">DELETE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ON</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ALL TABLES </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">IN</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> SCHEMA</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> bronze </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">TO</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> bronze_rw;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">GRANT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> USAGE  </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ON</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> SCHEMA</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> bronze </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">to</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> bronze_rw;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ALTER</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> DEFAULT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> PRIVILEGES </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">IN</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> SCHEMA</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> bronze </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">GRANT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> SELECT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">INSERT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">UPDATE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">DELETE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ON</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> TABLES </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">TO</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> bronze_rw;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- Grant all privileges of \`bronze_rw\` to \`data_engineer\`</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">GRANT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> bronze_rw </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">TO</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> data_engineer;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">GRANT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> data_engineer </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">TO</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> de_user;</span></span></code></pre></div><p>The roles <code>data_engineer</code> and <code>bronze_rw</code> are <code>Group Roles</code>. After creating a <strong>Group Role</strong> you will need to grant the <strong>Group Role</strong> some privileges. This will be determined by your use-case. In this example, a Data Engineer should have read access and write access to all tables in the bronze schema.</p>`,11)])])}const g=a(l,[["render",n]]);export{E as __pageData,g as default};
